{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yasha\\\\Downloads\\\\Django1\\\\Django\\\\Event Management\\\\frontend\\\\src\\\\screens\\\\QrVerifyScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\nimport { verifyTicket } from \"../actions/eventActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function QrVerifyScreen() {\n  _s();\n  var _result$ticket, _result$ticket$event;\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n  const scannerRef = useRef(null);\n  useEffect(() => {\n    const scanner = new Html5QrcodeScanner(\"qr-reader\", {\n      fps: 10,\n      qrbox: 250\n    });\n    scanner.render(async text => {\n      try {\n        const data = await verifyTicket(text)();\n        setResult(data);\n      } catch (e) {\n        var _e$response, _e$response$data;\n        setError((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || e.message);\n      }\n    }, () => {});\n    scannerRef.current = scanner;\n    return () => scanner.clear();\n  }, []);\n  const submitManual = async e => {\n    e.preventDefault();\n    const id = e.target.elements.ticket.value;\n    try {\n      const data = await verifyTicket(id)();\n      setResult(data);\n      setError(null);\n    } catch (e2) {\n      var _e2$response, _e2$response$data;\n      setError((e2 === null || e2 === void 0 ? void 0 : (_e2$response = e2.response) === null || _e2$response === void 0 ? void 0 : (_e2$response$data = _e2$response.data) === null || _e2$response$data === void 0 ? void 0 : _e2$response$data.detail) || e2.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Verify Ticket\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"qr-reader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mt-3\",\n      onSubmit: submitManual,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"ticket\",\n          className: \"form-control\",\n          placeholder: \"Enter ticket ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          type: \"submit\",\n          children: \"Verify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger mt-3\",\n      children: String(error)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success mt-3\",\n      children: [result.valid ? \"Valid\" : \"Invalid\", \" \\u2014 \", ((_result$ticket = result.ticket) === null || _result$ticket === void 0 ? void 0 : (_result$ticket$event = _result$ticket.event) === null || _result$ticket$event === void 0 ? void 0 : _result$ticket$event.title) || result.detail]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(QrVerifyScreen, \"eICkziFhTGjY3FXwUsrUE7VxF7o=\");\n_c = QrVerifyScreen;\nvar _c;\n$RefreshReg$(_c, \"QrVerifyScreen\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Html5QrcodeScanner","verifyTicket","jsxDEV","_jsxDEV","QrVerifyScreen","_s","_result$ticket","_result$ticket$event","result","setResult","error","setError","scannerRef","scanner","fps","qrbox","render","text","data","e","_e$response","_e$response$data","response","detail","message","current","clear","submitManual","preventDefault","id","target","elements","ticket","value","e2","_e2$response","_e2$response$data","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","name","placeholder","type","String","valid","event","title","_c","$RefreshReg$"],"sources":["C:/Users/yasha/Downloads/Django1/Django/Event Management/frontend/src/screens/QrVerifyScreen.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\nimport { verifyTicket } from \"../actions/eventActions\";\n\nexport default function QrVerifyScreen() {\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n  const scannerRef = useRef(null);\n\n  useEffect(() => {\n    const scanner = new Html5QrcodeScanner(\"qr-reader\", { fps: 10, qrbox: 250 });\n    scanner.render(async (text) => {\n      try {\n        const data = await verifyTicket(text)();\n        setResult(data);\n      } catch (e) {\n        setError(e?.response?.data?.detail || e.message);\n      }\n    }, () => {});\n    scannerRef.current = scanner;\n    return () => scanner.clear();\n  }, []);\n\n  const submitManual = async (e) => {\n    e.preventDefault();\n    const id = e.target.elements.ticket.value;\n    try {\n      const data = await verifyTicket(id)();\n      setResult(data);\n      setError(null);\n    } catch (e2) {\n      setError(e2?.response?.data?.detail || e2.message);\n    }\n  };\n\n  return (\n    <div>\n      <h3>Verify Ticket</h3>\n      <div id=\"qr-reader\" />\n      <form className=\"mt-3\" onSubmit={submitManual}>\n        <div className=\"input-group\">\n          <input name=\"ticket\" className=\"form-control\" placeholder=\"Enter ticket ID\" />\n          <button className=\"btn btn-primary\" type=\"submit\">Verify</button>\n        </div>\n      </form>\n      {error && <div className=\"alert alert-danger mt-3\">{String(error)}</div>}\n      {result && (\n        <div className=\"alert alert-success mt-3\">\n          {result.valid ? \"Valid\" : \"Invalid\"} â€” {result.ticket?.event?.title || result.detail}\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}